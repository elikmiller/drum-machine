(this["webpackJsonpdrum-machine"]=this["webpackJsonpdrum-machine"]||[]).push([[0],{14:function(e,t,n){e.exports=n(38)},19:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),i=(n(19),n(2)),l=n(13),u=n.n(l),s=new AudioContext,m=r.a.createContext(),d={},h=["china","crash_a","crash_b","crash_c","hihat","hihat_open","kick_a","kick_b","kick_ghost","ride","snare_a","snare_b","splash","tom_high","tom_low","tom_mid"],f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=s.currentTime,a=s.createBufferSource();a.buffer=d[e],a.connect(s.destination),0===t?a.start(0):a.start(n+t)},v=function(e){var t=e.children,n=Object(a.useState)(!0),o=Object(i.a)(n,2),c=o[0],l=o[1],v=Object(a.useState)(90),p=Object(i.a)(v,2),E=p[0],b=p[1],g={hihat:[!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1],snare_a:[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],kick_a:[!0,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1]};Object(a.useEffect)((function(){l(!0);var e=[],t=!0,n=!1,a=void 0;try{for(var r,o=function(){var t=r.value;e.push(u.a.get("/drum-machine"+"/clips/".concat(t,".wav"),{responseType:"arraybuffer"}).then((function(e){return s.decodeAudioData(e.data)})).then((function(e){d[t]=e})))},c=h[Symbol.iterator]();!(t=(r=c.next()).done);t=!0)o()}catch(i){n=!0,a=i}finally{try{t||null==c.return||c.return()}finally{if(n)throw a}}Promise.all(e).then((function(){return l(!1)}))}),[]);return r.a.createElement(m.Provider,{value:{_audioContext:s,loading:c,tempo:E,setTempo:b,clips:h,playSound:f,playSequence:function(){for(var e=0;e<16;e++)for(var t=0,n=Object.keys(g);t<n.length;t++){var a=n[t];g[a][e]&&f(a,60/(4*E)*e)}}}},t)},p=function(){var e=Object(a.useContext)(m);if(void 0===e)throw new Error("useAudioContext must be used within an AudioContextProvider");return e},E=function(e){var t=e.clip,n=p();return t?r.a.createElement("button",{className:"Pad",onMouseDown:function(){n.playSound(t)},type:"button"},t):r.a.createElement("button",{className:"Pad",type:"button"},r.a.createElement("em",null,"Unassigned"))},b=function(){var e=p();return r.a.createElement("div",{className:"DrumMachine"},r.a.createElement("div",{className:"PadController"},e.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"DrumMachine-logo"},"LOADING"),e.clips.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(E,{clip:""}),(t+1)%4===0&&r.a.createElement("br",null))}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"DrumMachine-logo"},r.a.createElement("strong",null,"DRUM"),"MACHINE"),e.clips.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(E,{clip:e}),(t+1)%4===0&&r.a.createElement("br",null))})))))},g=(n(37),function(){return r.a.createElement("div",null,r.a.createElement(v,null,r.a.createElement(b,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.d3252c9b.chunk.js.map